<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="author" content="Kyle Aure">
<title>Jakarta Data TCK Reference Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
/*! Asciidoctor Tabs | Copyright (c) 2018-present Dan Allen | MIT License */
.tabs {
    margin-bottom: 1.25em;
}

.tablist > ul {
    display: flex;
    flex-wrap: wrap;
    list-style: none;
    margin: 0;
    padding: 0;
}

.tablist > ul li {
    align-items: center;
    background-color: #fff;
    cursor: pointer;
    display: flex;
    font-weight: bold;
    line-height: 1.5;
    padding: 0.25em 1em;
    position: relative;
}

.tablist > ul li:focus-visible {
    outline: none;
}

.tablist.ulist,
.tablist.ulist > ul li {
    margin: 0;
}

.tablist.ulist > ul li + li {
    margin-left: 0.25em;
}

.tabs .tablist li::after {
    content: "";
    display: block;
    height: 1px;
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
}

.tabs.is-loading .tablist li:not(:first-child),
.tabs:not(.is-loading) .tablist li:not(.is-selected) {
    background-color: #f5f5f5;
}

.tabs.is-loading .tablist li:first-child::after,
.tabs:not(.is-loading) .tablist li.is-selected::after {
    background-color: #fff;
}

/*
.tabs:not(.is-loading) .tablist li,
.tabs:not(.is-loading) .tablist li::after {
  transition: background-color 200ms ease-in-out;
}
*/

.tablist > ul p {
    line-height: inherit;
    margin: 0;
}

.tabpanel {
    background-color: #fff;
    padding: 1.25em;
}

.tablist > ul li,
.tabpanel {
    border: 1px solid #dcdcdc;
}

.tablist > ul li {
    border-bottom: 0;
}

.tabs.is-loading .tabpanel + .tabpanel,
.tabs:not(.is-loading) .tabpanel.is-hidden {
    display: none;
}

.tabpanel > :first-child {
    margin-top: 0;
}

/* #content is a signature of the Asciidoctor standalone HTML output */
#content .tabpanel > :last-child,
#content .tabpanel > :last-child > :last-child,
#content .tabpanel > :last-child > :last-child > li:last-child > :last-child {
    margin-bottom: 0;
}

.tablecontainer {
    overflow-x: auto;
}

#content .tablecontainer {
    margin-bottom: 1.25em;
}

#content .tablecontainer > table.tableblock {
    margin-bottom: 0;
}
</style>
</head>
<body class="article">
<div id="header">
<h1>Jakarta Data TCK Reference Guide</h1>
<div class="details">
<span id="author" class="author">Kyle Aure</span><br>
<span id="email" class="email"><a href="mailto:data-dev@eclipse.org">data-dev@eclipse.org</a></span><br>
<span id="revnumber">version 1.0</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_preface">1. Preface</a>
<ul class="sectlevel2">
<li><a href="#_licensing">1.1. Licensing</a></li>
<li><a href="#_who_should_use_this_guide">1.2. Who Should Use This Guide</a></li>
<li><a href="#_terminology_se_mode_vs_ee_mode">1.3. Terminology - "SE mode" vs. "EE mode"</a></li>
<li><a href="#_terminology_standalone_tck">1.4. Terminology - "Standalone TCK"</a></li>
<li><a href="#_terminology_test_client_vs_test_server">1.5. Terminology - "Test Client" vs "Test Server"</a></li>
<li><a href="#_terminology_core_profile_vs_web_profile_vs_platform">1.6. Terminology - "Core Profile" vs "Web Profile" vs "Platform"</a></li>
<li><a href="#_before_you_read_this_guide">1.7. Before You Read This Guide</a></li>
</ul>
</li>
<li><a href="#_major_tck_changes">2. Major TCK Changes</a></li>
<li><a href="#_certify_compatibility">3. Certify Compatibility</a>
<ul class="sectlevel2">
<li><a href="#_runtime_tests_and_signature_tests_required">3.1. Runtime Tests and Signature Tests Required</a></li>
<li><a href="#_java_se_level_java_17_or_java_21">3.2. Java SE level - Java 17 or Java 21</a></li>
</ul>
</li>
<li><a href="#_prerequisites">4. Prerequisites</a>
<ul class="sectlevel2">
<li><a href="#_software_to_install">4.1. Software To Install</a></li>
<li><a href="#_testing_framework">4.2. Testing Framework</a></li>
</ul>
</li>
<li><a href="#_a_guide_to_the_tck_distribution">5. A Guide to the TCK Distribution</a>
<ul class="sectlevel2">
<li><a href="#_obtaining_the_software">5.1. Obtaining the Software</a></li>
<li><a href="#_the_tck_environment">5.2. The TCK Environment</a></li>
<li><a href="#_a_quick_tour_of_the_tck_artifacts">5.3. A Quick Tour of the TCK Artifacts</a></li>
</ul>
</li>
<li><a href="#_tck_test_requirements">6. TCK Test Requirements</a>
<ul class="sectlevel2">
<li><a href="#_expected_output">6.1. Expected Output</a></li>
</ul>
</li>
<li><a href="#_set_up_a_tck_runner_project">7. Set up a TCK runner project</a>
<ul class="sectlevel2">
<li><a href="#_se_mode">7.1. SE Mode</a></li>
<li><a href="#_ee_mode">7.2. EE Mode</a></li>
<li><a href="#_test_property_reference">7.3. Test property reference</a></li>
</ul>
</li>
<li><a href="#_example_runners">8. Example runners</a></li>
<li><a href="#_running_the_tck">9. Running the TCK</a>
<ul class="sectlevel2">
<li><a href="#_expected_output_2">9.1. Expected Output</a></li>
</ul>
</li>
<li><a href="#_signature_tests">10. Signature Tests</a>
<ul class="sectlevel2">
<li><a href="#_running_signature_tests">10.1. Running signature tests</a></li>
<li><a href="#_expected_output_3">10.2. Expected output</a></li>
</ul>
</li>
<li><a href="#_tck_challengesappeals_process">11. TCK Challenges/Appeals Process</a>
<ul class="sectlevel2">
<li><a href="#_filing_a_challenge">11.1. Filing a Challenge</a></li>
<li><a href="#_successful_challenges">11.2. Successful Challenges</a></li>
</ul>
</li>
<li><a href="#_certification_of_compatibility">12. Certification of Compatibility</a>
<ul class="sectlevel2">
<li><a href="#_filing_a_certification_request">12.1. Filing a Certification Request</a></li>
</ul>
</li>
<li><a href="#_rules_for_jakarta_data_products">13. Rules for Jakarta Data Products</a></li>
<li><a href="#_links">14. Links</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_preface">1. Preface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide describes how to download, install, configure, and run the Technology Compatibility Kit (TCK) used to verify the compatibility of an implementation of the Jakarta Data specification.</p>
</div>
<div class="paragraph">
<p>The specification describes the job specification language, Java programming model, and runtime environment for Jakarta Data applications.</p>
</div>
<div class="sect2">
<h3 id="_licensing">1.1. Licensing</h3>
<div class="paragraph">
<p>The Jakarta Data TCK is provided under the <a href="https://www.eclipse.org/legal/tck.php"><strong>Eclipse Foundation Technology Compatibility Kit License</strong></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_who_should_use_this_guide">1.2. Who Should Use This Guide</h3>
<div class="paragraph">
<p>This guide will assist in running the test suite, which verifies implementation compatibility for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Implementer of Jakarta Data.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_terminology_se_mode_vs_ee_mode">1.3. Terminology - "SE mode" vs. "EE mode"</h3>
<div class="paragraph">
<p>The term "EE mode" when talking about the Jakarta Data TCK distinguishes the requirements specifically for implementers running the TCK to certify against a Jakarta EE platform.
In contrast, the term "SE mode" distinguishes the requirements specifically for implementers running the TCK against a standalone implementation of the Jakarta Data specification.</p>
</div>
<div class="paragraph">
<p>The Jakarta Data specification has a subset of tests that can run in "SE mode" without the requirement of running against a Jakarta EE Platform.</p>
</div>
</div>
<div class="sect2">
<h3 id="_terminology_standalone_tck">1.4. Terminology - "Standalone TCK"</h3>
<div class="paragraph">
<p>The community will sometimes refer to this TCK as the "standalone" Data TCK.  This usage comes from the fact that Jakarta Data is part of the Jakarta EE Platform, which has a platform-level TCK from which we are distinguishing this "standalone" TCK.</p>
</div>
<div class="paragraph">
<p>This terminology is confusing, since the term "standalone" is overloaded to also mean that this TCK can be run in SE Mode which it can.
A better term would be <code>Specification TCK</code>, but that terminology is not yet being used.</p>
</div>
</div>
<div class="sect2">
<h3 id="_terminology_test_client_vs_test_server">1.5. Terminology - "Test Client" vs "Test Server"</h3>
<div class="paragraph">
<p>When running in EE mode the Jakarta Data TCK acts as a <code>Test Client</code> that will install test applications onto a Jakarta EE Platform Server.
The Platform Server will act as a <code>Test Server</code> and run tests based on incoming requests from the <code>Test Client</code>.
Assertions will occur both on the client and server sides.</p>
</div>
</div>
<div class="sect2">
<h3 id="_terminology_core_profile_vs_web_profile_vs_platform">1.6. Terminology - "Core Profile" vs "Web Profile" vs "Platform"</h3>
<div class="paragraph">
<p>The Jakarta EE working group defines sets of specifications that create the core profile, web profile, and platform.
The Jakarta Data TCK can run against each of these profiles since Jakarta Data is a Core Profile specification.</p>
</div>
<div class="paragraph">
<p>References:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Core profile: <a href="https://jakarta.ee/specifications/coreprofile/" class="bare">https://jakarta.ee/specifications/coreprofile/</a></p>
</li>
<li>
<p>Web profile: <a href="https://jakarta.ee/specifications/webprofile/" class="bare">https://jakarta.ee/specifications/webprofile/</a></p>
</li>
<li>
<p>Platform: <a href="https://jakarta.ee/specifications/platform/" class="bare">https://jakarta.ee/specifications/platform/</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_before_you_read_this_guide">1.7. Before You Read This Guide</h3>
<div class="paragraph">
<p>Before reading this guide, you should familiarize yourself with Jakarta Data 1.0.0 specification, which can be found at <a href="https://jakarta.ee/specifications/data/" class="bare">https://jakarta.ee/specifications/data/</a>.</p>
</div>
<div class="paragraph">
<p>Other useful information and links can be found on the <a href="https://projects.eclipse.org/projects/ee4j.data">eclipse.org project home page for the Jakarta Data project</a> and also at the <a href="https://github.com/jakartaee/data">GitHub repository home for the specification project</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_major_tck_changes">2. Major TCK Changes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the first release of the Jakarta Data TCK.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_certify_compatibility">3. Certify Compatibility</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_runtime_tests_and_signature_tests_required">3.1. Runtime Tests and Signature Tests Required</h3>
<div class="paragraph">
<p>To certify compatibility with the entire Jakarta EE Platform (including Jakarta Data), you will need to run the TCK against your implementation and pass 100% of both the:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JUnit5 runtime tests</p>
</li>
<li>
<p>Signature tests</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The two types of tests are encapsulated in a single execution or configuration.
This means that the Signature tests will run alongside all other tests and no additional execution or configuration is required.</p>
</div>
<div class="paragraph">
<p>By "runtime" tests we simply mean tests simulating Jakarta Data applications running against the Data implementation either in SE Mode (for Jakarta Data providers) or EE Mode (For Jakarta EE product providers).
These tests verify that the Data applications behave according to the details defined in the specification, as validated by the TCK test logic.</p>
</div>
</div>
<div class="sect2">
<h3 id="_java_se_level_java_17_or_java_21">3.2. Java SE level - Java 17 or Java 21</h3>
<div class="paragraph">
<p>The Java SE version is important to note, and this version must be used consistently throughout both the JUnit5 runtime and Signature tests for a given certification request.</p>
</div>
<div class="paragraph">
<p>For the current TCK version, this can be done with either Java SE Version 17 or Version 21.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites">4. Prerequisites</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_software_to_install">4.1. Software To Install</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Java/JDK</strong> - Install the JDK you intend to use for this certification request (Java SE Version 17 or Version 21).</p>
</li>
<li>
<p><strong>Maven</strong> - Install Apache Maven 3.6.0 or higher.</p>
</li>
<li>
<p><strong>Jakarta EE Platform</strong> (if running in EE Mode) - Jakarta EE Application Server or Container [Glassfish, Open Liberty, JBoss, WebLogic, etc.]</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_testing_framework">4.2. Testing Framework</h3>
<div class="paragraph">
<p>To better understand how this TCK works, knowing what testing frameworks are being utilized is helpful.
Knowledge of how these frameworks operate and interact will help during the project setup.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Arquillian</strong> - Version 1.7.0.Alpha13 or later - The Jakarta Data TCK can run in EE Mode and it uses Arquillian to execute tests within an Arquillian "container" for certifying against an EE Platform. You must configure an <a href="https://arquillian.org/guides/developing_a_container_adapter/">Arquillian adapter</a> for your target runtime.</p>
</li>
<li>
<p><strong>JUnit5</strong> - Version 5.9.0 or later - The Jakarta Data TCK uses JUnit5 as the entry-point for tests and deployments using Arquillian.</p>
</li>
<li>
<p><strong>Signature Test Plugin</strong> - Version 2.3 exactly -  The Jakarta Data TCK uses the Signature Test Plugin to verify API signatures used by an implementation and those release by the specification match.</p>
<div class="paragraph">
<p>No action is needed here, but we note that the signature files were built and should be validated with the plugin with group:artifact:version coordinates: <strong>jakarta.tck:sigtest-maven-plugin:2.3</strong>, as used by the sample runner included in the TCK zip.
This is a more specific direction than in earlier releases of the platform TCK, in which it was left more open for the user to use a compatible tool.
Since there are small differences in the various signature test tools an exact version is required.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_a_guide_to_the_tck_distribution">5. A Guide to the TCK Distribution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section explains how to obtain the TCK and extract it on your system.</p>
</div>
<div class="sect2">
<h3 id="_obtaining_the_software">5.1. Obtaining the Software</h3>
<div class="paragraph">
<p>The Jakarta Data TCK is distributed as a zip file, which contains all the files necessary to use, run, and certify your implementation.
You can access the current source code from the <a href="https://github.com/jakartaee/data">Git repository</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_tck_environment">5.2. The TCK Environment</h3>
<div class="paragraph">
<p>The Jakarta Data TCK can simply be extracted from the ZIP file.
Once the TCK is extracted, you&#8217;ll see the following structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="txt">data-tck-&lt;version&gt;-dist/
  artifacts/
  docs/
  starter/
  LICENSE
  README.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>In more detail:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>artifacts</code> contains all the test artifacts pertaining to the TCK</p>
<div class="ulist">
<ul>
<li>
<p>The TCK test classes and source</p>
</li>
<li>
<p>The JUnit5 configuration file</p>
</li>
<li>
<p>A copy of the SignatureTest file for reference</p>
</li>
<li>
<p>A script to copy the TCK into local maven repository.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>docs</code> contains the documentation for the TCK (i.e. this reference guide)</p>
</li>
<li>
<p><code>starter</code> a very basic starter maven project to get you started.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_a_quick_tour_of_the_tck_artifacts">5.3. A Quick Tour of the TCK Artifacts</h3>
<div class="sect3">
<h4 id="_what_is_included">5.3.1. What is included</h4>
<div class="paragraph">
<p>The Jakarta Data TCK is a test library that includes four types of packages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ee.jakarta.tck.data.standalone.\*</code> these are basic API tests, or SPI tests that can run in SE Mode or EE mode.</p>
</li>
<li>
<p><code>ee.jakarta.tck.data.core.\*</code> these are more complex integration tests that must run against at least Core Profile.</p>
</li>
<li>
<p><code>ee.jakarta.tck.data.web.\*</code> these are more complex integration tests that must run against at least Web Profile.</p>
</li>
<li>
<p><code>ee.jakarta.tck.data.platform.\*</code> these are more complex integration tests that must run against at least Platform.</p>
</li>
<li>
<p><code>ee.jakarta.tck.data.framework.\*</code> these are utility packages that help support the development and execution of the TCK.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Tests that exist at a lower level will run on any level above, for example, all core profile tests will run against web profile.
Signature tests exist at the standalone level which means they will run in any mode, and any profile.</p>
</div>
<div class="sect4">
<h5 id="_api_signature_files">API Signature Files</h5>
<div class="paragraph">
<p>One signature file exists per Java version 17 and 21:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>artifacts/jakarta.data.sig_17</code></p>
</li>
<li>
<p><code>artifacts/jakarta.data.sig_21</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This signature file is for reference only.
A copy of the signature file is included in the Jakarta Data TCK test jar.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_what_is_not_included">5.3.2. What is not included</h4>
<div class="paragraph">
<p>The Jakarta Data TCK uses but does not provide the necessary application servers, test frameworks, APIs, SPIs, or implementations required to run.
It is up to the tester to include those dependencies and set up a test project to run the TCK.</p>
</div>
<div class="paragraph">
<p>Here is an essential checklist of what you will need per mode, and links to the section that describe how to satisfy these requirements:</p>
</div>
<div class="paragraph">
<p>SE Mode:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Data API, JUnit5, and Signature Test Plugin libraries available at runtime | <a href="#_standalone_dependencies">Standalone Dependencies</a></p>
</li>
<li>
<p>A dependency injection framework supported by your implementation | <a href="#_standalone_dependencies">Standalone Dependencies</a></p>
</li>
<li>
<p>A logging configuration for TCK logging available at runtime | <a href="#_standalone_logging">Standalone Logging</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>EE Mode:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An Application Server to test against | <a href="#_software_to_install">Software To Install</a></p>
</li>
<li>
<p>The Jakarta Data API, Arquillian SPI, and JUnit5 libraries available to the <code>Test Client</code> | <a href="#_test_client_dependencies">Test Client Dependencies</a></p>
</li>
<li>
<p>An Arquillian SPI implementation for your Application Server | <a href="#_configure_arquillian">Configure Arquillian</a></p>
</li>
<li>
<p>A logging configuration for TCK logging on <code>Test Client</code> and <code>Test Server</code> | <a href="#_configure_client_and_server_logging">Configure Client and Server Logging</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tck_test_requirements">6. TCK Test Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There is flexibility regarding how a user could use Maven to configure a TCK execution.
Therefore, we make a separate, clear note here of the required number of tests needed to be passed in order to claim compliance via this TCK.</p>
</div>
<div class="sect2">
<h3 id="_expected_output">6.1. Expected Output</h3>
<div class="paragraph">
<p>For the JUnit5 runtime tests of the TCK,
the following table shows the number of tests that should pass based on platform and entity:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">entity type</th>
<th class="tableblock halign-left valign-top">standalone</th>
<th class="tableblock halign-left valign-top">core</th>
<th class="tableblock halign-left valign-top">web</th>
<th class="tableblock halign-left valign-top">platform</th>
<th class="tableblock halign-left valign-top">skipped</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">persistence</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">84</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">86</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">99</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">99</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nosql</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">75</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">77</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note: Counts include signature test, but do not include disabled tests.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_set_up_a_tck_runner_project">7. Set up a TCK runner project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A simple maven project is required to control the lifecycle of the Jakarta Data TCK.
Sample pom.xmls has been provided in this distribution under the /starter/ directory.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>se-pom.xml - is used for standalone testing.</p>
</li>
<li>
<p>ee-pom.xml - is used for Jakarta Platform testing.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_se_mode">7.1. SE Mode</h3>
<div class="sect3">
<h4 id="_standalone_dependencies">7.1.1. Standalone Dependencies</h4>
<div class="paragraph">
<p>The runtime will need to be configured with the dependencies necessary to run the TCK.</p>
</div>
<div class="paragraph">
<p>Example se-pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"> <span style="color:#777">&lt;!-- The Junit5 test frameworks --&gt;</span>
 <span style="color:#070;font-weight:bold">&lt;dependencyManagement&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependencies&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.junit<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>junit-bom<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${junit.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;type&gt;</span>pom<span style="color:#070;font-weight:bold">&lt;/type&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>import<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependencies&gt;</span>
 <span style="color:#070;font-weight:bold">&lt;/dependencyManagement&gt;</span>

 <span style="color:#777">&lt;!-- Runtime Dependencies --&gt;</span>
 <span style="color:#070;font-weight:bold">&lt;dependencies&gt;</span>
  <span style="color:#777">&lt;!-- The TCK --&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>jakarta.data<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>jakarta.data-tck<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${jakarta.data.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#777">&lt;!-- The API --&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>jakarta.data<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>jakarta.data-api<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${jakarta.data.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#777">&lt;!-- TODO add your implementation of the Jakarta Data API --&gt;</span>
  <span style="color:#777">&lt;!-- Junit5 --&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.junit.jupiter<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>junit-jupiter<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#777">&lt;!-- Signature Test Plugin --&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>jakarta.tck<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>sigtest-maven-plugin<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${sigtest.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#777">&lt;!-- APIs referenced by TCK that do not require implementations for standalone tests --&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.jboss.shrinkwrap<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>shrinkwrap-api<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${shrinkwrap.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.jboss.arquillian.junit5<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>arquillian-junit5-core<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${arquillian.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>jakarta.servlet<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>jakarta.servlet-api<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${jakarta.servlet.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
 <span style="color:#777">&lt;!-- APIs referenced by TCK that do require implementations for standalone tests --&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>jakarta.enterprise<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>jakarta.enterprise.cdi-api<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${jakarta.enterprise.cdi.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#777">&lt;!-- TODO add a DI framework implementation that is supported by your Jakarta Data implementation --&gt;</span>
 <span style="color:#070;font-weight:bold">&lt;/dependencies&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configure_junit5">7.1.2. Configure JUnit5</h4>
<div class="paragraph">
<p>JUnit5 needs to be configured to know which packages contain tests to run.
This test discovery is done automatically by configuring a <code>dependenciesToScan</code> element.</p>
</div>
<div class="paragraph">
<p>In order for your maven project to execute these tests the surefire plugin needs to be configured.</p>
</div>
<div class="paragraph">
<p>Example se-pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">   <span style="color:#777">&lt;!-- Surefire plugin - Entrypoint for Junit5 --&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;plugin&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>maven-surefire-plugin<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${maven.surefire.plugin.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;configuration&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;dependenciesToScan&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>jakarta.data:jakarta.data-tck<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;/dependenciesToScan&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;systemPropertyVariables&gt;</span>
      <span style="color:#777">&lt;!-- Required, Arquillian will deploy artifacts by default --&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;jakarta.tck.skip.deployment&gt;</span>true<span style="color:#070;font-weight:bold">&lt;/jakarta.tck.skip.deployment&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;/systemPropertyVariables&gt;</span>
     <span style="color:#777">&lt;!-- Supported tags 
         Profiles: [standalone]
         Entities:[nosql|persistence] 
         Other:   [signature] --&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;groups&gt;</span>${includedTests}<span style="color:#070;font-weight:bold">&lt;/groups&gt;</span>
     <span style="color:#777">&lt;!-- Ensure surfire plugin looks under src/main/java
      instead of src/test/java --&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;testSourceDirectory&gt;</span>${basedir}/src/main/java/<span style="color:#070;font-weight:bold">&lt;/testSourceDirectory&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/configuration&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;/plugin&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_standalone_mode">7.1.3. Standalone Mode</h4>
<div class="paragraph">
<p>All test classes that support running in standalone mode are annotated with the <code>@Standalone</code> annotation.</p>
</div>
<div class="paragraph">
<p>When running in standalone mode, include the group <code>&lt;groups&gt;standalone&lt;groups&gt;</code>.
This will ensure that none of the core/web/platform profile tests are run.</p>
</div>
<div class="paragraph">
<p>When running in standalone mode, include the system property <code>&lt;jakarta.tck.skip.deployment&gt;true&lt;/jakarta.tck.skip.deployment&gt;</code>.
This will ensure that no Arquillian deployments are created and that all tests are run on the client JVM.</p>
</div>
</div>
<div class="sect3">
<h4 id="_entity_modes">7.1.4. Entity Modes</h4>
<div class="paragraph">
<p>All test classes in the TCK are annotated with <code>@NoSQL</code>, <code>@Persistence</code>, or <code>@AnyEntity</code> annotations.</p>
</div>
<div class="paragraph">
<p>If your Jakarta Data implementation supports NoSQL entities, include the group <code>&lt;groups&gt;nosql&lt;groups&gt;</code>.</p>
</div>
<div class="paragraph">
<p>If your Jakarta Data implementation supports Persistence entities, include the group <code>&lt;groups&gt;persistence&lt;groups&gt;</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_filtering_tests">7.1.5. Filtering Tests</h4>
<div class="paragraph">
<p>As mentioned in the prior sections tests can be filtered by modifying the <code>&lt;groups&gt;</code> element.
It is recommended to avoid using <code>&lt;excludedGroups&gt;</code> as the surefire plugin has a known issue
where excluded groups do not have precedence over included groups.</p>
</div>
<div class="paragraph">
<p>Therefore, if you wanted to run standalone tests with a NoSQL entities you would
configure <code>&lt;groups&gt;&lt;![CDATA[standalone &amp; nosql]]&gt;&lt;groups&gt;</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_standalone_logging">7.1.6. Standalone Logging</h4>
<div class="paragraph">
<p>The Jakarta Data TCK uses <code>java.util.logging</code> for logging debug messages, and to output test results in some cases.
This is done by pointing the JVM to the logging configuration file using the property.
An example logging configuration file has been provided under the <code>/starter</code> directory.</p>
</div>
<div class="paragraph">
<p>To enable logging for the Client side of tests, add a system property to the surefire plugin:</p>
</div>
<div class="paragraph">
<p>Example se-pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">     <span style="color:#070;font-weight:bold">&lt;systemPropertyVariables&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;java.util.logging.config.file&gt;</span>${logging.config}<span style="color:#070;font-weight:bold">&lt;/java.util.logging.config.file&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;/systemPropertyVariables&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ee_mode">7.2. EE Mode</h3>
<div class="sect3">
<h4 id="_test_client_dependencies">7.2.1. Test Client Dependencies</h4>
<div class="paragraph">
<p>The entry point to running the TCK will be on the client-side using JUnit5.
The Test Client will need to be configured with the dependencies necessary to run the TCK.
Some of these dependencies will depend on the application server you are using, and
comments have been added to this sample describing the customization necessary.</p>
</div>
<div class="paragraph">
<p>Example ee-pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"> <span style="color:#777">&lt;!-- The Arquillian and Junit5 test frameworks --&gt;</span>
 <span style="color:#070;font-weight:bold">&lt;dependencyManagement&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependencies&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.junit<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>junit-bom<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${junit.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;type&gt;</span>pom<span style="color:#070;font-weight:bold">&lt;/type&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>import<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.jboss.arquillian<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>arquillian-bom<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${arquillian.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;type&gt;</span>pom<span style="color:#070;font-weight:bold">&lt;/type&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>import<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.jboss.arquillian.jakarta<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>arquillian-jakarta-bom<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${arquillian.jakarta.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;type&gt;</span>pom<span style="color:#070;font-weight:bold">&lt;/type&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>import<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.jboss.shrinkwrap<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>shrinkwrap-bom<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${shrinkwrap.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;type&gt;</span>pom<span style="color:#070;font-weight:bold">&lt;/type&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>import<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.jboss.shrinkwrap.resolver<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>shrinkwrap-resolver-bom<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${shrinkwrap.resolver.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;type&gt;</span>pom<span style="color:#070;font-weight:bold">&lt;/type&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>import<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependencies&gt;</span>
 <span style="color:#070;font-weight:bold">&lt;/dependencyManagement&gt;</span>

 <span style="color:#777">&lt;!-- Client Dependencies --&gt;</span>
 <span style="color:#070;font-weight:bold">&lt;dependencies&gt;</span>
  <span style="color:#777">&lt;!-- The TCK --&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>jakarta.data<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>jakarta.data-tck<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${jakarta.data.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#777">&lt;!-- The API --&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>jakarta.data<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>jakarta.data-api<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${jakarta.data.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#777">&lt;!-- Arquillian Implementation for JUnit5 --&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.jboss.arquillian.junit5<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>arquillian-junit5-container<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#777">&lt;!-- TODO add Arquillian SPI impl for your Jakarta EE Platform Server --&gt;</span>
  <span style="color:#777">&lt;!-- Junit5 --&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.junit.jupiter<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>junit-jupiter<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#777">&lt;!-- Signature Test Plugin --&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>jakarta.tck<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>sigtest-maven-plugin<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${sigtest.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#777">&lt;!-- APIs provided by your Jakarta EE Platform server --&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>jakarta.servlet<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>jakarta.servlet-api<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${jakarta.servlet.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>jakarta.enterprise<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>jakarta.enterprise.cdi-api<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${jakarta.enterprise.cdi.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
 <span style="color:#070;font-weight:bold">&lt;/dependencies&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Each of these Arquillian tests run within the runtime container, with the help of an Arquillian adapter for that runtime implementation (mentioned as a prerequisite).</p>
</div>
</div>
<div class="sect3">
<h4 id="_configure_junit5_2">7.2.2. Configure JUnit5</h4>
<div class="paragraph">
<p>JUnit5 needs to be configured to know which packages contain tests to run.
This test discovery is done automatically by configuring a <code>dependenciesToScan</code> element.</p>
</div>
<div class="paragraph">
<p>In order for your maven project to execute these tests the surefire plugin needs to be configured.</p>
</div>
<div class="paragraph">
<p>Example ee-pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">   <span style="color:#777">&lt;!-- Surefire plugin - Entrypoint for Junit5 --&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;plugin&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>maven-surefire-plugin<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;version&gt;</span>${maven.surefire.plugin.version}<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;configuration&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;dependenciesToScan&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>jakarta.data:jakarta.data-tck<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;/dependenciesToScan&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;systemPropertyVariables&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;jimage.dir&gt;</span>${jimage.dir}<span style="color:#070;font-weight:bold">&lt;/jimage.dir&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;signature.sigTestClasspath&gt;</span>[path-to]/jakarta.data-api.jar:${jimage.dir}/java.base:${jimage.dir}/java.rmi:${jimage.dir}/java.sql:${jimage.dir}/java.naming<span style="color:#070;font-weight:bold">&lt;/signature.sigTestClasspath&gt;</span>
      <span style="color:#777">&lt;!-- Optional, Arquillian will deploy artifacts by default --&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;jakarta.tck.skip.deployment&gt;</span>false<span style="color:#070;font-weight:bold">&lt;/jakarta.tck.skip.deployment&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;/systemPropertyVariables&gt;</span>
     <span style="color:#777">&lt;!-- Supported tags 
         Profiles:[core|web|platform] 
         Entities:[nosql|persistence] 
         Other:   [signature] --&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;groups&gt;</span>${includedTests}<span style="color:#070;font-weight:bold">&lt;/groups&gt;</span>
     <span style="color:#777">&lt;!-- Ensure surfire plugin looks under src/main/java 
     instead of src/test/java --&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;testSourceDirectory&gt;</span>${basedir}/src/main/java/<span style="color:#070;font-weight:bold">&lt;/testSourceDirectory&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/configuration&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;/plugin&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_profile_mode">7.2.3. Profile Mode</h4>
<div class="paragraph">
<p>All test classes that require running on a Jakarta profile are annotated with the <code>@Core</code>, <code>@Web</code>, or <code>@Platform</code> annotation.</p>
</div>
<div class="paragraph">
<p>When running against a Jakarta profile, include the group that matches your supported profile. For example: <code>&lt;groups&gt;core&lt;groups&gt;</code>.</p>
</div>
<div class="paragraph">
<p>When running against a Jakarta profile, optionally include the system property <code>&lt;jakarta.tck.skip.deployment&gt;false&lt;/jakarta.tck.skip.deployment&gt;</code>.
By default Arquillian will deploy test artifacts to a container.</p>
</div>
</div>
<div class="sect3">
<h4 id="_entity_modes_2">7.2.4. Entity Modes</h4>
<div class="paragraph">
<p>All test classes in the TCK are annotated with <code>@NoSQL</code>, <code>@Persistence</code>, or <code>@AnyEntity</code> annotations.</p>
</div>
<div class="paragraph">
<p>If your Jakarta Data implementation supports NoSQL entities, include the group <code>&lt;groups&gt;nosql&lt;groups&gt;</code>.</p>
</div>
<div class="paragraph">
<p>If your Jakarta Data implementation supports Persistence entities, include the group <code>&lt;groups&gt;persistence&lt;groups&gt;</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_filtering_tests_2">7.2.5. Filtering Tests</h4>
<div class="paragraph">
<p>As mentioned in the prior sections tests can be filtered by modifying the <code>&lt;groups&gt;</code> element.
It is recommended to avoid using <code>&lt;excludedGroups&gt;</code> as the surefire plugin has a known issue
where excluded groups do not have precedence over included groups.</p>
</div>
<div class="paragraph">
<p>Therefore, if you wanted to run core profile tests with a NoSQL entities you would
configure <code>&lt;groups&gt;&lt;![CDATA[core &amp; nosql]]&gt;&lt;groups&gt;</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_configure_arquillian">7.2.6. Configure Arquillian</h4>
<div class="paragraph">
<p>Application Servers that implement the Arquillian SPI use a configuration file to define properties, such as hostname, port, username, password, etc.
These properties will allow Arquillian to connect to the application server, install applications, and get test responses.
An example Arquillian configuration file has been provided in the <code>starter/</code> directory.</p>
</div>
<div class="paragraph">
<p>It is possible to configure the surefire plugin to past variables to the Arquillian container:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">     <span style="color:#070;font-weight:bold">&lt;systemPropertyVariables&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;tck_server&gt;</span>[TODO]<span style="color:#070;font-weight:bold">&lt;/tck_server&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;tck_hostname&gt;</span>[TODO]<span style="color:#070;font-weight:bold">&lt;/tck_hostname&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;tck_username&gt;</span>[TODO]<span style="color:#070;font-weight:bold">&lt;/tck_username&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;tck_password&gt;</span>[TODO]<span style="color:#070;font-weight:bold">&lt;/tck_password&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;tck_port&gt;</span>[TODO]<span style="color:#070;font-weight:bold">&lt;/tck_port&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;tck_port&gt;</span>[TODO]<span style="color:#070;font-weight:bold">&lt;/tck_port&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;/systemPropertyVariables&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configure_jakarta_ee_platform_server">7.2.7. Configure Jakarta EE Platform Server</h4>
<div class="paragraph">
<p>The Jakarta Data TCK requires that your Jakarta EE Platform Server has a valid implementation of the Jakarta Data API.</p>
</div>
</div>
<div class="sect3">
<h4 id="_configure_client_and_server_logging">7.2.8. Configure Client and Server Logging</h4>
<div class="paragraph">
<p>The Jakarta Data TCK uses <code>java.util.logging</code> for logging debug messages, and to output test results in some cases.
Registered loggers exist both on the Test Client and Test Server meaning you will need to configure both sides to enable logging.
This is done by pointing the JVM to the logging configuration file using the property.
An example logging configuration file has been provided under the <code>/starter</code> directory.</p>
</div>
<div class="paragraph">
<p>To enable logging for the Client side of tests, add a system property to the surefire plugin:</p>
</div>
<div class="paragraph">
<p>Example ee-pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">     <span style="color:#070;font-weight:bold">&lt;systemPropertyVariables&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;java.util.logging.config.file&gt;</span>${logging.config}<span style="color:#070;font-weight:bold">&lt;/java.util.logging.config.file&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;/systemPropertyVariables&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To enable logging for the Server side of tests, set the same system property on the JVM running your application server.</p>
</div>
</div>
<div class="sect3">
<h4 id="_advanced_arquillian_configuration">7.2.9. Advanced Arquillian Configuration</h4>
<div class="paragraph">
<p>Some application servers may have custom deployment descriptors that they would like to include
as part of the applications that are being deployed to their server.
The custom deployment descriptors can be included in a programmatic way using ShrinkWrap and the Arquillian SPI.</p>
</div>
<div class="paragraph">
<p>Example ApplicationArchiveProcessor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyApplicationArchiveProcessor</span> <span style="color:#088;font-weight:bold">implements</span> ApplicationArchiveProcessor {
    
    <span style="color:#777">//List of test classes that deploy application that you need to customize</span>
    <span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt; testClasses;

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> process(Archive&lt;?&gt; archive, TestClass testClass) {
        <span style="color:#080;font-weight:bold">if</span>(testClasses.contains(testClass.getClass().getCanonicalName())){
            ((WebArchive) archive).addAsWebInfResource(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">my-custom-sun-web.xml</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">sun-web.xml</span><span style="color:#710">&quot;</span></span>);
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example LoadableExtension:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyLoadableExtension</span> <span style="color:#088;font-weight:bold">implements</span> LoadableExtension {
    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> register(ExtensionBuilder extensionBuilder) {
        extensionBuilder.service(ApplicationArchiveProcessor.class, MyApplicationArchiveProcessor.class);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example META-INF/services/org.jboss.arquillian.core.spi.LoadableExtension:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="txt">ee.jakarta.tck.data.example.extension.MyLoadableExtension</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_property_reference">7.3. Test property reference</h3>
<div class="paragraph">
<p>In the previous sections, there were sample configurations that contained information about
the different system properties that can be set under the <code>&lt;systemPropertyVariables&gt;</code> of the Surefire plugin.</p>
</div>
<div class="paragraph">
<p>This section contains a complete list of the system properties that will be looked up by the TCK
and a short description of what data each represents.</p>
</div>
<div class="paragraph">
<p>Use this reference as a quick guide for customizing how this TCK is run for your implementation.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.home</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to the java executable used to create the current JVM</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.specification.version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specification version of the java executable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.io.tmpdir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to a temporary directory where a copy of the signature file will be created</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full version of the java executable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.tck.skip.deployment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, run in SE mode and do not use Arquillian deployment, if false run in EE mode and use Arquillian deployments. Default: false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.tck.poll.frequency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time in seconds between polls of the repository to verify read-only data was successfully written. Default: 1 second</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.tck.poll.timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time in seconds when we will stop polling to verify read-only data was successfully written. Default: 60 seconds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.tck.consistency.delay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time in seconds after verifying read-only data was successfully written to respository for repository to have consistency. Default: none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.tck.database.type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of database being used. Valid values are [OTHER, RELATIONAL, GRAPH, DOCUMENT, TIME_SERIES, COLUMN, KEY_VALUE] (case insensitive). The database type is used to make assertions based on the keywords supported by the underlying database. Default: OTHER</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jakarta.tck.database.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of database being used. The database name is used to make assertions based on the underlying database. Default: none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">signature.sigTestClasspath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the Jakarta Data API JAR used by your implementation. Required for standalone testing, but optional when testing on a Jakarta EE profile. Default: none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jimage.dir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to a directory that is readable and writable that the signature test will cache Java SE modules as classes. Default: none</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note: All non-java properties set on the test client, will be exported to the test server so there is no
need to set the same properties on both.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_runners">8. Example runners</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section is dedicated to listing example runners for other implementations to use as a reference on how to configure and use the Jakarta Data TCK.</p>
</div>
<div class="paragraph">
<p>Below are links to projects where the Jakarta Data TCK is being used and run successfully:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Project</th>
<th class="tableblock halign-left valign-top">Link</th>
<th class="tableblock halign-left valign-top">Profile(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hibernate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/jakartaredhat/hibernate-data-tck/tree/3e5fd4ddc68b60cc026987021d8d3e80ebed6809">hibernate-data-tck</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">standalone</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Liberty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/OpenLiberty/open-liberty/tree/549a6b89005de62289df7b550aedd229dd407722/dev/io.openliberty.jakarta.data.1.0_fat_tck">open-liberty/io.openliberty.jakarta.data.1.0_fat_tck</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">core, web, full</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_running_the_tck">9. Running the TCK</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once the TCK Runner project is created and configured the Jakarta Data TCK is run as part of the maven test lifecycle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sh">$ cd starter
$ mvn clean test</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_expected_output_2">9.1. Expected Output</h3>
<div class="paragraph">
<p>Here is example output when successfully running (platform + persistence entity) the starter project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="txt">$ mvn clean test
...
[INFO] --- maven-surefire-plugin:3.0.0-M7:test (default-test) @ tck.runner ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO]
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running ee.jakarta.tck.data.core.cdi.CDITests
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0,Time elapsed: y.yy s - in ee.jakarta.tck.data.core.cdi.CDITests
[INFO]
[INFO] Running ee.jakarta.tck.data.standalone.entity.EntityTests
[INFO] Tests run: 73, Failures: 0, Errors: 0, Skipped: 0,Time elapsed: y.yy s - in ee.jakarta.tck.data.standalone.entity.EntityTests
[INFO]
[INFO] Running ee.jakarta.tck.data.standalone.persistence.PersistenceEntityTests
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0,Time elapsed: y.yy s - in ee.jakarta.tck.data.standalone.persistence.PersistenceEntityTests
[INFO]
[INFO] Running ee.jakarta.tck.data.standalone.signature.SignatureTests
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0,Time elapsed: y.yy s - in ee.jakarta.tck.data.standalone.signature.SignatureTests
[INFO]
[INFO] Running ee.jakarta.tck.data.web.example.ComplexServletTests
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0,Time elapsed: y.yy s - in ee.jakarta.tck.data.web.example.ComplexServletTests
[INFO]
[INFO] Running ee.jakarta.tck.data.web.transaction.PersistenceTests
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0,Time elapsed: y.yy s - in ee.jakarta.tck.data.web.transaction.PersistenceTests
[INFO]
[INFO] Running ee.jakarta.tck.data.web.validation.ValidationTests
[INFO] Tests run: 8, Failures: 0, Errors: 0, Skipped: 0,Time elapsed: y.yy s - in ee.jakarta.tck.data.web.validation.ValidationTests
[INFO]
[INFO] Results:
[INFO]
[INFO] Tests run: 99, Failures: 0, Errors: 0, Skipped: 0
[INFO]
[INFO] -------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] -------------------------------------------------------
[INFO] Total time:  xx.xxx s
[INFO] Finished at: yyyy-mm-ddThh:mm:ss.mmmm
[INFO] -------------------------------------------------------</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_signature_tests">10. Signature Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The signature tests validate the integrity of the <code>jakarta.data</code> Java "namespace" (or "package prefix") of the Data implementation.
This would be especially important for an implementation packaging its own API JAR in which the API must be validated in its entirety.</p>
</div>
<div class="paragraph">
<p>For implementations expecting their users to rely on the API released by the Jakarta Data specification project (e.g. to Maven Central)
the signature tests are also important to validate that improper (non-spec-defined)
extensions have not been added to <code>jakarta.data.\*</code> packages/classes/etc.</p>
</div>
<div class="paragraph">
<p>For more information about generating the signature test file, and how the signature test runs read:
<a href="https://github.com/jakartaee/data/blob/main/tck/src/main/java/ee/jakarta/tck/data/framework/signature/README.md">ee.jakarta.tck.concurrent.framework.signaturetest/README.md</a></p>
</div>
<div class="sect2">
<h3 id="_running_signature_tests">10.1. Running signature tests</h3>
<div class="paragraph">
<p>The Jakarta Data TCK will run signature tests within a standalone or deployed application,
and not as part of a separate plugin / execution.
This means that the signature tests will run during the maven <code>test</code> phase.</p>
</div>
<div class="paragraph">
<p>Your test client is configured with the property <code>jimage.dir=${project.build.directory}/jimage/</code>.
This is because, when running the signature tests on JDK 9+ we need to convert the
JDK modules back into class files for signature testing.</p>
</div>
<div class="paragraph">
<p>The signature test plugin we use will also attempt to perform reflective access of classes, methods, and fields.
Due to the new module system in JDK 9+ special permissions need to be added in order for these tests to run:</p>
</div>
<div class="sect3">
<h4 id="_with_modules">10.1.1. with Modules</h4>
<div class="paragraph">
<p>By default the java.base module only exposes certain classes for reflective access.
Therefore, the Data TCK test will need access to the <code>jdk.internal.vm.annotation</code> class.
To give the <code>sigtest-maven-plugin</code> access to this class set the following JVM properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties">--add-exports java.base/jdk.internal.vm.annotation=ALL-UNNAMED
--add-opens java.base/jdk.internal.vm.annotation=ALL-UNNAMED</code></pre>
</div>
</div>
<div class="paragraph">
<p>Some JDKs will mistake the space in the prior JVM properties as delimiters between properties
In this case use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties">--add-exports=java.base/jdk.internal.vm.annotation=ALL-UNNAMED
--add-opens=java.base/jdk.internal.vm.annotation=ALL-UNNAMED</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_expected_output_3">10.2. Expected output</h3>
<div class="paragraph">
<p>Here is example output when successfully running the signature tests:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="txt">******************************************************
All package signatures passed.
    Passed packages listed below:
        jakarta.data(static mode)
        jakarta.data(reflection mode)
        jakarta.data.exceptions(static mode)
        jakarta.data.exceptions(reflection mode)
        jakarta.data.metamodel(static mode)
        jakarta.data.metamodel(reflection mode)
        jakarta.data.metamodel.impl(static mode)
        jakarta.data.metamodel.impl(reflection mode)
        jakarta.data.page(static mode)
        jakarta.data.page(reflection mode)
        jakarta.data.page.impl(static mode)
        jakarta.data.page.impl(reflection mode)
        jakarta.data.repository(static mode)
        jakarta.data.repository(reflection mode)
        jakarta.data.spi(static mode)
        jakarta.data.spi(reflection mode)

******************************************************</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tck_challengesappeals_process">11. TCK Challenges/Appeals Process</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://jakarta.ee/committees/specification/tckprocess">Jakarta EE TCK Process 1.4.1</a> will govern all process details used for challenges to the Jakarta Data TCK.</p>
</div>
<div class="paragraph">
<p>Except from the <strong>Jakarta EE TCK Process 1.4.1</strong>:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Specifications are the sole source of truth and considered overruling to the TCK in all senses.
In the course of implementing a specification and attempting to pass the TCK,
implementations may come to the conclusion that one or more tests or assertions do not conform to the specification,
and therefore MUST be excluded from the certification requirements.</p>
</div>
</blockquote>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Requests for tests to be excluded are referred to as Challenges.
This section identifies who can make challenges to the TCK, what challenges to the TCK may be submitted, how these challenges are submitted,
how and to whom challenges are addressed.</p>
</div>
</blockquote>
</div>
<div class="sect2">
<h3 id="_filing_a_challenge">11.1. Filing a Challenge</h3>
<div class="paragraph">
<p>The certification of compatibility process is defined within the <span class="underline">Challenges</span> section within the <strong>Jakarta EE TCK Process 1.4.1</strong>.</p>
</div>
<div class="paragraph">
<p>Challenges will be tracked via the <a href="https://github.com/jakartaee/data/issues?q=is%3Aissue+label%3Achallenge">issues section</a> of the Jakarta Data Specification repository.</p>
</div>
<div class="paragraph">
<p>As a shortcut through the challenge process mentioned in the <strong>Jakarta EE TCK Process 1.4.1</strong> you can click <a href="https://github.com/jakartaee/data/issues/new?assignees=&amp;labels=challenge&amp;template=challenge.yml&amp;title=%5BTCK+Challenge%5D%3A+">here</a>,
though it is recommended that you read through the challenge process to understand it in detail.</p>
</div>
</div>
<div class="sect2">
<h3 id="_successful_challenges">11.2. Successful Challenges</h3>
<div class="paragraph">
<p>The following tests are exempt from TCK testing due to challenges:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Class</th>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Reason</th>
</tr>
</thead>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_certification_of_compatibility">12. Certification of Compatibility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://jakarta.ee/committees/specification/tckprocess">Jakarta EE TCK Process 1.4.1</a> will define the core process details used to certify compatibility with the Jakarta Data specification,
through execution of the Jakarta Data TCK.</p>
</div>
<div class="paragraph">
<p>Except from the <strong>Jakarta EE TCK Process 1.4.1</strong>:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Jakarta EE is a self-certification ecosystem.
If you wish to have your implementation listed on the official <a href="https://jakarta.ee" class="bare">https://jakarta.ee</a> implementations page for the given specification,
a certification request as defined in this section is required.</p>
</div>
</blockquote>
</div>
<div class="sect2">
<h3 id="_filing_a_certification_request">12.1. Filing a Certification Request</h3>
<div class="paragraph">
<p>The certification of compatibility process is defined within the <span class="underline">Certification of Compatibility</span>
section within the <strong>Jakarta EE TCK Process 1.4.1</strong>.</p>
</div>
<div class="paragraph">
<p>Certifications will be tracked via the <a href="https://github.com/jakartaee/data/issues?q=is%3Aissue+label%3Acertification">issues section</a> of
the Jakarta Data Specification repository.</p>
</div>
<div class="paragraph">
<p>As a shortcut through the certification of compatibility process mentioned in the
<strong>Jakarta EE TCK Process 1.4.1</strong> you can click <a href="https://github.com/jakartaee/data/issues/new?assignees=&amp;labels=certification&amp;template=certification.yml&amp;title=%5BCertification%5D%3A+">here</a>,
though it is recommended that you read through the certification process to understand it in detail.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rules_for_jakarta_data_products">13. Rules for Jakarta Data Products</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following rules apply for each version of an operating system, software component,
and hardware platform Documented as supporting the Product:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Data1</strong> The Product must be able to satisfy all applicable compatibility requirements,
including passing all Compatibility Tests, in every Product Configuration and in every combination
of Product Configurations, except only as specifically exempted by these Rules.
For example, if a Product provides distinct Operating Modes to optimize performance,
then that Product must satisfy all applicable compatibility requirements for a Product
in each Product Configuration, and combination of Product Configurations, of those Operating Modes.</p>
</li>
<li>
<p><strong>Data1.1</strong> If an Operating Mode controls a Resource necessary for the basic execution of the Test Suite,
testing may always use a Product Configuration of that Operating Mode providing that Resource,
even if other Product Configurations do not provide that Resource. Notwithstanding such exceptions,
each Product must have at least one set of Product Configurations of such Operating Modes
that is able to pass all the Compatibility Tests.
For example, a Product with an Operating Mode that controls a security policy (i.e., Security Resource)
which has one or more Product Configurations that cause Compatibility Tests to fail
may be tested using a Product Configuration that allows all Compatibility Tests to pass.</p>
</li>
<li>
<p><strong>Data1.2</strong> A Product Configuration of an Operating Mode that causes the Product to report only
version, usage, or diagnostic information is exempted from these compatibility rules.</p>
</li>
<li>
<p><strong>Data1.3</strong> An API Definition Product is exempt from all functional testing requirements defined here,
except the signature tests.</p>
</li>
<li>
<p><strong>Data2</strong> Some Compatibility Tests may have properties that may be changed.
Properties that can be changed are identified in the configuration interview.
Properties that can be changed are identified in the JavaTest Environment (.jte) files in the Test Suite installation.
Apart from changing such properties and other allowed modifications described in this User&#8217;s Guide (if any),
no source or binary code for a Compatibility Test may be altered in any way without prior written permission.
Any such allowed alterations to the Compatibility Tests will be provided via the Jakarta EE Specification Project website
and apply to all vendor compatible implementations.</p>
</li>
<li>
<p><strong>Data3</strong> The testing tools supplied as part of the Test Suite or as updated by the
Maintenance Lead must be used to certify compliance.</p>
</li>
<li>
<p><strong>Data4</strong> The Exclude List associated with the Test Suite cannot be modified.</p>
</li>
<li>
<p><strong>Data5</strong> The Maintenance Lead can define exceptions to these Rules.
Such exceptions would be made available as above, and will apply to all vendor implementations.</p>
</li>
<li>
<p><strong>Data6</strong> All hardware and software component additions, deletions, and modifications to a
Documented supporting hardware/software platform, that are not part of the Product but required
for the Product to satisfy the compatibility requirements, must be Documented and available to users of the Product.
For example, if a patch to a particular version of a supporting operating system is required for the
Product to pass the Compatibility Tests, that patch must be Documented and available to users of the Product.</p>
</li>
<li>
<p><strong>Data7</strong> The Product must contain the full set of public and protected classes and interfaces
for all the Libraries. Those classes and interfaces must contain exactly the set of public and
protected methods, constructors, and fields defined by the Specifications for those Libraries.
No subsetting, supersetting, or modifications of the public and protected API of the Libraries
are allowed except only as specifically exempted by these Rules.</p>
</li>
<li>
<p><strong>Data7.1</strong> If a Product includes Technologies in addition to the Technology Under Test,
then it must contain the full set of combined public and protected classes and interfaces.
The API of the Product must contain the union of the included Technologies.
No further modifications to the APIs of the included Technologies are allowed.</p>
</li>
<li>
<p><strong>Data8</strong> Except for tests specifically required by this TCK to be rebuilt (if any),
the binary Compatibility Tests supplied as part of the Test Suite or as updated by the
Maintenance Lead must be used to certify compliance.</p>
</li>
<li>
<p><strong>Data9</strong> The functional programmatic behavior of any binary class or interface must be
that defined by the Specifications.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_links">14. Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Jakarta Data TCK repository - <a href="https://github.com/jakartaee/data/tree/main/tck" class="bare">https://github.com/jakartaee/data/tree/main/tck</a></p>
</li>
<li>
<p>Jakarta Data API repository - <a href="https://github.com/jakartaee/data/tree/main/api" class="bare">https://github.com/jakartaee/data/tree/main/api</a></p>
</li>
<li>
<p>Jakarta Data specification repository - <a href="https://github.com/jakartaee/data/tree/main/spec" class="bare">https://github.com/jakartaee/data/tree/main/spec</a></p>
</li>
<li>
<p>Jakarta Data project home page - <a href="https://projects.eclipse.org/projects/ee4j.data" class="bare">https://projects.eclipse.org/projects/ee4j.data</a></p>
</li>
<li>
<p>Arquillian and ShrinkWrap doc: <a href="https://arquillian.org/guides/shrinkwrap_introduction/" class="bare">https://arquillian.org/guides/shrinkwrap_introduction/</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0<br>
</div>
</div>
<script>
;(function () { /*! Asciidoctor Tabs | Copyright (c) 2018-present Dan Allen | MIT License */
  'use strict'

  var config = (document.currentScript || {}).dataset || {}
  var forEach = Array.prototype.forEach

  init(document.querySelectorAll('.tabs'))

  function init (tabsBlocks) {
    if (!tabsBlocks.length) return
    forEach.call(tabsBlocks, function (tabs) {
      var syncIds = tabs.classList.contains('is-sync') ? {} : undefined
      var tablist = tabs.querySelector('.tablist ul')
      tablist.setAttribute('role', 'tablist')
      var start
      forEach.call(tablist.querySelectorAll('li'), function (tab, idx) {
        tab.tabIndex = -1
        tab.setAttribute('role', tab.classList.add('tab') || 'tab')
        var id, anchor, syncId
        if (!(id = tab.id) && (anchor = tab.querySelector('a[id]'))) {
          id = tab.id = anchor.parentNode.removeChild(anchor).id
        }
        var panel = id && tabs.querySelector('.tabpanel[aria-labelledby~="' + id + '"]')
        if (!panel) return idx ? undefined : toggleSelected(tab, true) // invalid state
        syncIds && (((syncId = tab.textContent.trim()) in syncIds) ? (syncId = undefined) : true) &&
        (syncIds[(tab.dataset.syncId = syncId)] = tab)
        idx || (syncIds && (start = { tab: tab, panel: panel })) ? toggleHidden(panel, true) : toggleSelected(tab, true)
        tab.setAttribute('aria-controls', panel.id)
        panel.setAttribute('role', 'tabpanel')
        var onClick = syncId === undefined ? activateTab : activateTabSync
        tab.addEventListener('click', onClick.bind({ tabs: tabs, tab: tab, panel: panel }))
      })
      if (!tabs.closest('.tabpanel')) {
        forEach.call(tabs.querySelectorAll('.tabpanel table.tableblock'), function (table) {
          var container = Object.assign(document.createElement('div'), { className: 'tablecontainer' })
          table.parentNode.insertBefore(container, table).appendChild(table)
        })
      }
      if (start) {
        var syncGroupId
        for (var i = 0, lst = tabs.classList, len = lst.length, className; i !== len; i++) {
          if (!(className = lst.item(i)).startsWith('data-sync-group-id=')) continue
          tabs.dataset.syncGroupId = syncGroupId = lst.remove(className) || className.slice(19).replace(/\u00a0/g, ' ')
          break
        }
        if (syncGroupId === undefined) tabs.dataset.syncGroupId = syncGroupId = Object.keys(syncIds).sort().join('|')
        var preferredSyncId = 'syncStorageKey' in config &&
          window[(config.syncStorageScope || 'local') + 'Storage'].getItem(config.syncStorageKey + '-' + syncGroupId)
        var tab = preferredSyncId && syncIds[preferredSyncId]
        tab && Object.assign(start, { tab: tab, panel: document.getElementById(tab.getAttribute('aria-controls')) })
        toggleSelected(start.tab, true) || toggleHidden(start.panel, false)
      }
    })
    onHashChange()
    toggleClassOnEach(tabsBlocks, 'is-loading', 'remove')
    window.setTimeout(toggleClassOnEach.bind(null, tabsBlocks, 'is-loaded', 'add'), 0)
    window.addEventListener('hashchange', onHashChange)
  }

  function activateTab (e) {
    var tab = this.tab
    var tabs = this.tabs || (this.tabs = tab.closest('.tabs'))
    var panel = this.panel || (this.panel = document.getElementById(tab.getAttribute('aria-controls')))
    querySelectorWithSiblings(tabs, '.tablist .tab', 'tab').forEach(function (el) {
      toggleSelected(el, el === tab)
    })
    querySelectorWithSiblings(tabs, '.tabpanel', 'tabpanel').forEach(function (el) {
      toggleHidden(el, el !== panel)
    })
    if (!this.isSync && 'syncStorageKey' in config && 'syncGroupId' in tabs.dataset) {
      var storageKey = config.syncStorageKey + '-' + tabs.dataset.syncGroupId
      window[(config.syncStorageScope || 'local') + 'Storage'].setItem(storageKey, tab.dataset.syncId)
    }
    if (!e) return
    var loc = window.location
    var hashIdx = loc.hash ? loc.href.indexOf('#') : -1
    if (~hashIdx) window.history.replaceState(null, '', loc.href.slice(0, hashIdx))
    e.preventDefault()
  }

  function activateTabSync (e) {
    activateTab.call(this, e)
    var thisTabs = this.tabs
    var thisTab = this.tab
    var initialY = thisTabs.getBoundingClientRect().y
    forEach.call(document.querySelectorAll('.tabs'), function (tabs) {
      if (tabs === thisTabs || tabs.dataset.syncGroupId !== thisTabs.dataset.syncGroupId) return
      querySelectorWithSiblings(tabs, '.tablist .tab', 'tab').forEach(function (tab) {
        if (tab.dataset.syncId === thisTab.dataset.syncId) activateTab.call({ tabs: tabs, tab: tab, isSync: true })
      })
    })
    var shiftedBy = thisTabs.getBoundingClientRect().y - initialY
    if (shiftedBy && (shiftedBy = Math.round(shiftedBy))) window.scrollBy({ top: shiftedBy, behavior: 'instant' })
  }

  function querySelectorWithSiblings (scope, selector, siblingClass) {
    var el = scope.querySelector(selector)
    if (!el) return []
    var result = [el]
    while ((el = el.nextElementSibling) && el.classList.contains(siblingClass)) result.push(el)
    return result
  }

  function toggleClassOnEach (elements, className, method) {
    forEach.call(elements, function (el) {
      el.classList[method](className)
    })
  }

  function toggleHidden (el, state) {
    el.classList[(el.hidden = state) ? 'add' : 'remove']('is-hidden')
  }

  function toggleSelected (el, state) {
    el.setAttribute('aria-selected', '' + state)
    el.classList[state ? 'add' : 'remove']('is-selected')
    el.tabIndex = state ? 0 : -1
  }

  function onHashChange () {
    var id = window.location.hash.slice(1)
    if (!id) return
    var tab = document.getElementById(~id.indexOf('%') ? decodeURIComponent(id) : id)
    if (!(tab && tab.classList.contains('tab'))) return
    'syncId' in tab.dataset ? activateTabSync.call({ tab: tab }) : activateTab.call({ tab: tab })
  }
})()
</script>
</body>
</html>